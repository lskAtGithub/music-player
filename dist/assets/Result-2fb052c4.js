import{d as g,C as S,y as R,r as c,o as k,a as _,c as v,b as n,e as a,u as o,l as V,N as C,w as I,f as N,A as q,O as B,h as f,Q as K,g as U,J as z,p as A,q as D,_ as E}from"./index-e3a7a131.js";const h=t=>(A("data-v-f23511c2"),t=t(),D(),t),J={class:"result-box"},L={class:"search"},M={class:"label-box"},O=h(()=>n("span",{class:"label-fix"},"搜索结果",-1)),Q=h(()=>n("span",{class:"label active"},"单曲",-1)),T=g({__name:"Result",setup(t){const m=[{label:"歌曲",prop:"name"},{label:"歌手",prop:"singer",width:120},{label:"专辑",prop:"album",width:150},{label:" ",slotName:"operation",width:60}],w=S(),y=R();let r=c(!0),e=c(""),i=c([]);function b(){e.value!==""&&(y.replace({path:"/result",query:{keywords:e.value}}),u())}async function u(){r.value=!0;const d=await B({keywords:e.value});i.value=d.data.result.songs.map(s=>({id:s.id,name:s.name,singer:s.ar[0].name,picUrl:s.al.picUrl,url:"",time:"",size:"",album:s.al.name})),r.value=!1}return k(async()=>{e.value=w.query.keywords,u()}),(d,s)=>{const x=_("el-input"),p=_("el-divider");return f(),v("div",J,[n("div",L,[a(x,{type:"text","prefix-icon":o(K),modelValue:o(e),"onUpdate:modelValue":s[0]||(s[0]=l=>V(e)?e.value=l:e=l),onKeyup:C(b,["enter"])},null,8,["prefix-icon","modelValue","onKeyup"])]),n("div",M,[O,a(p,{direction:"vertical"}),Q]),a(p),I((f(),v("div",null,[a(q,{columns:m,list:o(i)},{operation:N(({scope:l})=>[a(z,{row:l,"has-push":!1},null,8,["row"])]),_:1},8,["list"])])),[[o(U),o(r)]])])}}});const F=E(T,[["__scopeId","data-v-f23511c2"]]);export{F as default};
