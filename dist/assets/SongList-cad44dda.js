import{d as k,e as t,a as r,s as x,f as l,h as L,b as e,u as d,P as C,m as U,A as B,x as q,_ as D,C as z,D as V,G as w,r as A,H as P,o as R,I as E,t as c,J as G,K as H,L as S}from"./index-e3a7a131.js";function J(){return t("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M24 44C12.9543 44 4 35.0457 4 24C4 12.9543 12.9543 4 24 4C35.0457 4 44 12.9543 44 24",stroke:"currentColor","stroke-width":"4","stroke-linecap":"square","stroke-linejoin":"round"},null),t("path",{d:"M20 24V17.0718L26 20.5359L32 24L26 27.4641L20 30.9282V24Z",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linejoin":"round"},null),t("path",{d:"M37.0508 32L37.0508 42",stroke:"currentColor","stroke-width":"4","stroke-linecap":"square","stroke-linejoin":"round"},null),t("path",{d:"M42 36.9497L32 36.9497",stroke:"currentColor","stroke-width":"4","stroke-linecap":"square","stroke-linejoin":"round"},null)])}const M=k({render(){return J()}}),K={class:"song-list-box"},O={class:"songs-header"},Z={class:"control-box"},F=k({__name:"SongListSkeleton",props:{loading:Boolean},setup(f){const g=f,h=[{label:"音乐标题",slotName:"name"},{label:"歌手",prop:"singer",width:120},{label:"专辑",prop:"album",width:150},{label:" ",slotName:"operation",width:80}];return(u,v)=>{const o=r("el-skeleton-item"),_=r("el-button"),p=r("el-button-group"),m=r("el-skeleton");return L(),x(m,{style:{"--el-skeleton-circle-size":"100px"},loading:g.loading,animated:""},{template:l(()=>[e("div",K,[e("div",O,[t(o,{variant:"image",class:"main-img"}),e("div",Z,[t(o,{variant:"p",style:{width:"100%",height:"40px"}}),t(o,{variant:"p",style:{width:"100%"}}),t(o,{variant:"p",style:{width:"100%"}}),t(o,{variant:"p",style:{width:"100%"}}),t(o,{variant:"p",style:{width:"100%"}}),t(o,{variant:"p",style:{width:"100%"}}),e("div",null,[t(p,{size:"default"},{default:l(()=>[t(_,{type:"primary",icon:d(C)},{default:l(()=>[U("播放全部")]),_:1},8,["icon"]),t(_,{type:"primary",icon:d(M)},null,8,["icon"])]),_:1})])])]),t(B,{list:[],columns:h})])]),default:l(()=>[q(u.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}});const Q=D(F,[["__scopeId","data-v-75458504"]]),W={class:"song-list-box"},X={class:"bg-wrapper"},Y=["src"],tt={class:"songs-header"},et=["src"],nt={class:"control-box"},ot={class:"title"},st={class:"info"},at={class:"desc"},lt={class:"song-name"},it=["src"],rt=k({__name:"SongList",setup(f){const g=[{label:"音乐标题",slotName:"name"},{label:"歌手",prop:"singer",width:120},{label:"专辑",prop:"album",width:150},{label:" ",slotName:"operation",width:80}],h=z(),{songs:u,currentSong:v}=V(w().songStore),{playSong:o,addSongs:_,playStatus:p,replaceSongs:m}=w().songStore;let b=A(!0);const s=P({createTime:"",creator:{nickname:""},coverImgUrl:"",description:"",name:"",tracks:[],updateTime:""});function T(){E({id:h.query.id}).then(n=>{n.data.playlist&&n.data.playlist.tracks&&(n.data.playlist.tracks.map(a=>{a.singer=a.ar[0].name,a.picUrl=a.al.picUrl,a.album=a.al.name}),Object.assign(s,n.data.playlist),b.value=!1)})}async function N(n){const a={id:n.id,picUrl:n.picUrl,name:n.name,singer:n.ar[0].name,time:0,size:0,url:""};_(a,0),p(),o(a)}function I(){H.confirm("该操作会替换整个播放列表，是否继续?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"info"}).then(()=>{const n=S([...s.tracks]);m(n),v.value=u.value[0],p(),o(v.value)})}function $(){const n=S([...u.value,...s.tracks]);m(n)}return R(()=>{T()}),(n,a)=>{const y=r("el-button"),j=r("el-button-group");return L(),x(Q,{loading:d(b)},{default:l(()=>[e("div",W,[e("div",X,[e("img",{src:s.coverImgUrl,alt:""},null,8,Y)]),e("div",tt,[e("img",{class:"main-img",src:s.coverImgUrl,alt:""},null,8,et),e("div",nt,[e("div",ot,c(s.name),1),e("div",st,c(s.creator.nickname)+" · 创建于 "+c(new Date(s.createTime).toLocaleDateString()),1),e("div",at,c(s.description),1),e("div",null,[t(j,{size:"default"},{default:l(()=>[t(y,{type:"primary",icon:d(C),onClick:I},{default:l(()=>[U("播放全部")]),_:1},8,["icon"]),t(y,{type:"primary",icon:d(M),onClick:$},null,8,["icon"])]),_:1})])])]),t(B,{list:s.tracks,columns:g,onRowDblclick:N},{name:l(({scope:i})=>[e("div",lt,[e("img",{src:i.picUrl,alt:""},null,8,it),e("span",null,c(i.name),1)])]),operation:l(({scope:i})=>[t(G,{row:{id:i.id,name:i.name,picUrl:i.picUrl,singer:i.ar[0].name,time:0,size:0,url:""}},null,8,["row"])]),_:1},8,["list"])])]),_:1},8,["loading"])}}});const dt=D(rt,[["__scopeId","data-v-8793e87f"]]);export{dt as default};
